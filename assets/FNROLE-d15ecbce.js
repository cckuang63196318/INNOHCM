import{F as h,G as w,H as u,J as U,K as n,L as O,o as E,v as x,a as N,c as R,M as J,O as M}from"./index-51f48711.js";import{u as P,_ as q,d as L,e as Y,t as j}from"./editForm01-9a577f7c.js";import"./DataTable-d5315e2d.js";const K={__name:"FNROLE",props:["columnInvisible","dataFilter"],setup(F){var b;const c=F;h();const i=w();P(),console.log("props:",c.columnInvisible);const v=u({value:!1}),d=u({value:!1});U(async()=>{try{let e=await n("/INNOHCM/FN/FNROLES/getData",{AD:O.ad}),l=[];console.log("onBeforeMount:",e),e.data.forEach(t=>{console.log("",t.FN0000_INFOTYPE),t.FN0000_INFOTYPE!==void 0&&t.FN0000_INFOTYPE.forEach(a=>{l.push({value:a,label:a})})}),s.FN0000_INFOTYPE.options=l}catch(e){i.error(e.message)}});const f=u({value:"view"}),m={search:{}},y=u({value:{value:!1},setLockObject:T});async function _(e,l){if(e==="search")try{let t=await n("/INNOHCM/FN/FNSUBJECT/getData",{Action:e});console.log("subject:",t.DATA),o.value.length=0,t.DATA.forEach(a=>{o.value.push(a)}),console.log("initialTable:",o)}catch(t){i.error(t.message)}}function T(){var e;return((e=s.FN0000_PERNR.value)==null?void 0:e.length)>0?{mainItem:s.FN0000_PERNR.value,subItem:""}:null}function S(e){f.value="edit",o.editMode.value=e,v.value=e}const s=u({FN0000_PERNR:{value:null,type:"text",required:!0,disableds:{view:!1,add:!0,copy:!0,edit:!0},col:2,blockEnd:!0},FN0000_INFOTYPE:{value:null,type:"select",required:!0,disableds:{view:!1,add:!0,copy:!0,edit:!0},options:[{value:"異動",label:"異動"},{value:"薪資狀態",label:"薪資狀態"}],col:2,blockEnd:!0},FN0000_description:{value:"",type:"text",disableds:{view:!0,add:!0,copy:!0,edit:!0},col:2,blockEnd:!0},span02:{type:"span",value:"end",disableds:{view:!0,add:!0,copy:!0,edit:!0},col:2,blockEnd:!0}});async function k(e,l){if(console.log("formUpdate:",e,l),e==="FN0000_role"){let t=s.FN0000_role.options.find(a=>a.value===l);console.log("option:",t),s.FN0000_description.value=t==null?void 0:t.label;try{let a=await n("/INNOHCM/FN/FNSUBJECT/getData",{ROLE:l});console.log("subject:",a.DATA),o.value.length=0,a.DATA.forEach(D=>{o.value.push(D)}),console.log("initialTable:",o)}catch(a){i.error(a.message)}}}const p=u({value:"view"}),g={add:{},copy:{},edit:{},delete:{},close:{},save:{},cancel:{}};function A(e,l){console.log("clickToolBarButton2",e,l),(["save","close"].indexOf(e)>-1||e==="cancel"&&["add",""].indexOf(l)>-1)&&(d.value=!1)}const r=u({FN0000_SUBJECTID:{value:"",type:"text",disableds:{view:!0,add:!1,copy:!1,edit:!0},required:!0,col:1,blockEnd:!0},span01:{type:"span",value:"end",disableds:{view:!0,add:!0,copy:!0,edit:!0},col:3,blockEnd:!0},FN0000_SDATE:{value:"",type:"date",disableds:{view:!0,add:!1,copy:!1,edit:!1},required:!0,col:2,blockEnd:!1,attribute:{min:"2023-02-10",max:"2023-02-25"}},FN0000_EDATE:{value:"",type:"date",disableds:{view:!0,add:!1,copy:!1,edit:!1},required:!0,col:2,blockEnd:!0,attribute:{min:"2023-03-02",max:"2023-03-29"}},label1:{value:"這是測試的文字說明01",type:"label",disableds:{view:!0,add:!1,copy:!0,edit:!1},required:!1,col:2,blockEnd:!0,attribute:{align:"top"}},FN0000_SUBJECTDESC:{value:"",type:"text",disableds:{view:!0,add:!1,copy:!1,edit:!1},required:!0,col:3,blockEnd:!0},label2:{value:"這是測試的文字說明02",type:"label",disableds:{view:!0,add:!1,copy:!0,edit:!1},required:!1,col:1,blockEnd:!0},FN0000_orangeAssign:{value:"業務區塊",type:"divider",disableds:{view:!1,add:!1,copy:!1,edit:!1},col:4,blockEnd:!0},FN0000_PARAMATER:{value:[],type:"texts",disableds:{view:!0,add:!1,copy:!1,edit:!1},required:!0,col:2,blockEnd:!0,attribute:{max:4}},FN0000_RADIO:{value:null,type:"radio",options:[{value:"TN",label:"台南"},{value:"JN",label:"竹南"}],disableds:{view:!0,add:!1,copy:!1,edit:!1},required:!0,col:2,blockEnd:!0,attribute:{max:4}},span04:{type:"span",value:"start",disableds:{view:!0,add:!0,copy:!0,edit:!0},col:2,blockEnd:!0},FN0000_SITE:{value:"TN",type:"checkbox",options:[{value:"TN",label:"台南"},{value:"JN",label:"竹南"},{value:"NB",label:"寧波"},{value:"FS",label:"佛山"},{value:"NJ",label:"南京"}],disableds:{view:!0,add:!1,copy:!1,edit:!1},required:!0,col:2,blockEnd:!0,attribute:{max:4}},FN0000_SELECT:{value:null,type:"select",required:!0,disableds:{view:!0,add:!0,copy:!0,edit:!0},options:[{value:"SEL1",label:"S1"},{value:"SEL2",label:"S2"}],col:2,blockEnd:!0},FN0000_SELECTS:{value:null,type:"select",required:!0,disableds:{view:!0,add:!1,copy:!1,edit:!1},options:[{value:"SEL1",label:"S1"},{value:"SEL2",label:"S2"}],col:2,blockEnd:!0,attribute:{multiple:!0}}});function B(e,l){console.log("formUpdate2:",e,l)}const o=u({key:"ID",value:[],columns:[{title:"FN0000_SUBJECTID",key:"FN0000_SUBJECTID",fixed:"left",sorter:!0},{title:"FN0000_SDATE",key:"FN0000_SDATE"},{title:"FN0000_SUBJECTDESC",key:"FN0000_SUBJECTDESC"},{title:"FN0000_SITE",key:"FN0000_SITE"},((b=c.columnInvisible)==null?void 0:b.indexOf("FN0000_PARAMATER"))>-1?null:{title:"FN0000_PARAMATER",key:"FN0000_PARAMATER"}],editMode:{value:!1}});function C(e,l){["view","add"].indexOf(e>-1)&&(d.value=!0,e==="view"&&(r.FN0000_SUBJECTID.value=l.FN0000_SUBJECTID,r.FN0000_SDATE.value=l.FN0000_SDATE,r.FN0000_SUBJECTDESC.value=l.FN0000_SUBJECTDESC)),console.log("buttonClick",e,l==null?void 0:l.name),j(r,l),console.log("form2:",r),p.value=e}function I(e){console.log("pageClick",e)}return(e,l)=>(E(),x(M,null,[N(q,{action:f,"buttons-value":m,onButtonClick:_,"switch-value":y,onSwitchUpdate:S,"form-value":s,onFormUpdate:k},null,8,["action","switch-value","form-value"]),N(L,{value:o,onButtonClick:C,onPageClick:I,selection:!0},null,8,["value"]),d.value?(E(),R(Y,{key:0,action:p,"edit-mode":v,"buttons-value":g,onButtonClick:A,"form-value":r,onFormUpdate:B},null,8,["action","edit-mode","form-value"])):J("",!0)],64))}};export{K as default};
